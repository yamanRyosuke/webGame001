# 仕様書テンプレート（Claude-Code実装向け / Webカジュアルゲーム）

> 目的: Claude-Codeが迷わず実装できる「曖昧さの少ない仕様」にする。  
> コツ: **数値・状態・例外・エッジケース**を必ず書く。

## 0. 基本情報
- タイトル:
- リポジトリ:
- 技術: Vite + （例: TypeScript / React / PixiJS / Three.js）
- 対応端末: PC / スマホ（優先順位）
- 画面向き: 縦 / 横 / 両方
- 基準解像度: （例）720x1280（CSSでスケール）など

## 1. 用語集
- （例）「ターン」「コンボ」「ゲージ」など、固有用語の定義

## 2. ゲーム状態（State）
### 2.1 State一覧
- Boot: アセット読み込み
- Title: タイトル
- Play: ゲーム中
- Pause: 一時停止（必要なら）
- Result: 結果表示
- (Option): 設定

### 2.2 状態遷移図（文章でOK）
- Boot → Title（ロード完了）
- Title → Play（タップ/クリック）
- Play → Result（クリア/失敗）
- Result → Play（リトライ）
- Result → Title（戻る）

## 3. 画面仕様（UI）
### 3.1 画面レイアウト
- Safe area対応（スマホノッチ）: する/しない
- UI要素:
  - スコア表示:
  - タイマー:
  - リトライボタン:
  - サウンドON/OFF:

### 3.2 UIの見た目
- フォント:
- ボタンサイズ（最小タップ領域）:
- アニメーション方針:

## 4. 入力仕様
### 4.1 入力デバイス
- PC: マウス（クリック/ドラッグ） + キーボード（必要なら）
- スマホ: タップ/スワイプ/ドラッグ

### 4.2 入力の詳細
- タップ開始で何が起きる:
- 押し続け/ドラッグ中:
- 離した時:
- 同時入力（マルチタッチ）: 対応する/しない

### 4.3 入力の例外
- UI上での入力はゲーム入力に伝播しない
- 画面外にドラッグした場合の扱い

## 5. ゲームルール（最重要）
### 5.1 目的
- 目的を1〜2文で

### 5.2 主要パラメータ（表で列挙）
- 難易度レベル:
- 制限時間（秒）:
- スコア計算式:
- 生成頻度:
- 速度:
- 当たり判定サイズ:
- 乱数シード（必要なら）:

### 5.3 オブジェクト仕様
各オブジェクトについて、最低限これを書く:
- 名前:
- 役割:
- 見た目:
- サイズ:
- 生成/破棄条件:
- 物理（使う/使わない）:
- 当たり判定:
- アニメ/演出:

（例）
#### Player
- 操作:
- 移動範囲:
- 速度:
- 無敵時間:

#### Target / Enemy / Item
- 種別:
- 挙動:
- スコア/ダメージ:
- 例外:

### 5.4 勝敗条件
- クリア条件:
- 失敗条件:
- 同時に満たした場合の優先順位:

### 5.5 難易度調整
- 時間経過で増える要素:
- 乱数テーブル:
- 初心者救済（任意）:

## 6. 演出仕様
### 6.1 フィードバック（必須）
- 成功時: （画面揺れ/パーティクル/SE）
- 失敗時:
- 連続成功:
- UIの反応:

### 6.2 画面遷移
- フェード時間:
- 結果表示の演出:

## 7. サウンド仕様
- BGM: ファイル名 / ループ
- SE: 種類・タイミング・同時発音制限
- Webの自動再生制限: 最初の入力後にAudioContext開始

## 8. データ保存
- 保存するもの: ハイスコア / 設定
- 保存先: localStorage
- キー一覧:
- 破損時のフォールバック:

## 9. パフォーマンス要件
- 目標FPS:
- 最大同時オブジェクト数:
- アセット容量目安:
- スマホでの負荷対策:

## 10. 実装構成案（任意だが有効）
- ディレクトリ構成案:
  - src/
    - game/（ロジック）
    - ui/
    - assets/
- 主要クラス/モジュール:
  - GameLoop（tick/update）
  - InputManager
  - StateMachine
  - AudioManager
  - Storage

## 11. テスト観点（最低限）
- 端末別（iOS Safari / Android Chrome / PC Chrome）
- リサイズ/回転
- 音ON/OFF
- 低スペックで破綻しない
- 連打・高速入力

## 12. 受け入れ条件（Definition of Done）
- タイトル→プレイ→結果→リトライが通る
- 主要ルールが仕様通り
- スマホで操作できる
- エラーがコンソールに出ない（Known除く）
